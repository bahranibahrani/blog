<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Membangun Lab SSH Pribadi dengan Docker: Bahrani Labs | My Blog</title>
<meta name=keywords content="docker,ssh,devops,tutorial,container"><meta name=description content="Sering kali kita membutuhkan sebuah lingkungan sandbox atau lab virtual yang ringan untuk eksperimen, development, atau sekadar mencoba perintah-perintah sistem. Menggunakan Virtual Machine (VM) penuh terkadang terasa berlebihan. Artikel ini akan memandu Anda membangun &ldquo;Bahrani Labs&rdquo;: sebuah lab berbasis kontainer Docker yang bisa diakses via SSH, lengkap dengan persistensi data dan konfigurasi siap pakai.
Lab ini hadir dengan fitur esensial seperti akses SSH, user cisco dengan hak sudo, volume persisten untuk data Anda, healthcheck untuk memonitor layanan, kebijakan restart otomatis, dan zona waktu yang sudah disesuaikan untuk Indonesia (Asia/Jakarta)."><meta name=author content="Me"><link rel=canonical href=https://blog.bahrani.my.id/docs/catatan/membangun-lab-ssh-docker/><link crossorigin=anonymous href=/assets/css/stylesheet.b609c58d5c11bb90b1a54e04005d74ad1ddf22165eb79f5533967e57df9c3b50.css integrity="sha256-tgnFjVwRu5CxpU4EAF10rR3fIhZet59VM5Z+V9+cO1A=" rel="preload stylesheet" as=style><link rel=icon href=https://blog.bahrani.my.id/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=16x16 href=https://blog.bahrani.my.id/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=https://blog.bahrani.my.id/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=https://blog.bahrani.my.id/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=https://blog.bahrani.my.id/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://blog.bahrani.my.id/docs/catatan/membangun-lab-ssh-docker/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="Membangun Lab SSH Pribadi dengan Docker: Bahrani Labs"><meta property="og:description" content="Sering kali kita membutuhkan sebuah lingkungan sandbox atau lab virtual yang ringan untuk eksperimen, development, atau sekadar mencoba perintah-perintah sistem. Menggunakan Virtual Machine (VM) penuh terkadang terasa berlebihan. Artikel ini akan memandu Anda membangun &ldquo;Bahrani Labs&rdquo;: sebuah lab berbasis kontainer Docker yang bisa diakses via SSH, lengkap dengan persistensi data dan konfigurasi siap pakai.
Lab ini hadir dengan fitur esensial seperti akses SSH, user cisco dengan hak sudo, volume persisten untuk data Anda, healthcheck untuk memonitor layanan, kebijakan restart otomatis, dan zona waktu yang sudah disesuaikan untuk Indonesia (Asia/Jakarta)."><meta property="og:type" content="article"><meta property="og:url" content="https://blog.bahrani.my.id/docs/catatan/membangun-lab-ssh-docker/"><meta property="og:image" content="https://blog.bahrani.my.id/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="article:section" content="docs"><meta property="article:published_time" content="2025-10-05T00:00:00+00:00"><meta property="article:modified_time" content="2025-10-05T00:00:00+00:00"><meta property="og:site_name" content="ExampleSite"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://blog.bahrani.my.id/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="Membangun Lab SSH Pribadi dengan Docker: Bahrani Labs"><meta name=twitter:description content="Sering kali kita membutuhkan sebuah lingkungan sandbox atau lab virtual yang ringan untuk eksperimen, development, atau sekadar mencoba perintah-perintah sistem. Menggunakan Virtual Machine (VM) penuh terkadang terasa berlebihan. Artikel ini akan memandu Anda membangun &ldquo;Bahrani Labs&rdquo;: sebuah lab berbasis kontainer Docker yang bisa diakses via SSH, lengkap dengan persistensi data dan konfigurasi siap pakai.
Lab ini hadir dengan fitur esensial seperti akses SSH, user cisco dengan hak sudo, volume persisten untuk data Anda, healthcheck untuk memonitor layanan, kebijakan restart otomatis, dan zona waktu yang sudah disesuaikan untuk Indonesia (Asia/Jakarta)."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Docs","item":"https://blog.bahrani.my.id/docs/"},{"@type":"ListItem","position":2,"name":"Membangun Lab SSH Pribadi dengan Docker: Bahrani Labs","item":"https://blog.bahrani.my.id/docs/catatan/membangun-lab-ssh-docker/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Membangun Lab SSH Pribadi dengan Docker: Bahrani Labs","name":"Membangun Lab SSH Pribadi dengan Docker: Bahrani Labs","description":"Sering kali kita membutuhkan sebuah lingkungan sandbox atau lab virtual yang ringan untuk eksperimen, development, atau sekadar mencoba perintah-perintah sistem. Menggunakan Virtual Machine (VM) penuh terkadang terasa berlebihan. Artikel ini akan memandu Anda membangun \u0026ldquo;Bahrani Labs\u0026rdquo;: sebuah lab berbasis kontainer Docker yang bisa diakses via SSH, lengkap dengan persistensi data dan konfigurasi siap pakai.\nLab ini hadir dengan fitur esensial seperti akses SSH, user cisco dengan hak sudo, volume persisten untuk data Anda, healthcheck untuk memonitor layanan, kebijakan restart otomatis, dan zona waktu yang sudah disesuaikan untuk Indonesia (Asia/Jakarta).","keywords":["docker","ssh","devops","tutorial","container"],"articleBody":"Sering kali kita membutuhkan sebuah lingkungan sandbox atau lab virtual yang ringan untuk eksperimen, development, atau sekadar mencoba perintah-perintah sistem. Menggunakan Virtual Machine (VM) penuh terkadang terasa berlebihan. Artikel ini akan memandu Anda membangun “Bahrani Labs”: sebuah lab berbasis kontainer Docker yang bisa diakses via SSH, lengkap dengan persistensi data dan konfigurasi siap pakai.\nLab ini hadir dengan fitur esensial seperti akses SSH, user cisco dengan hak sudo, volume persisten untuk data Anda, healthcheck untuk memonitor layanan, kebijakan restart otomatis, dan zona waktu yang sudah disesuaikan untuk Indonesia (Asia/Jakarta).\nPrasyarat Sebelum memulai, pastikan sistem Anda telah memenuhi syarat berikut:\nDocker \u0026 Docker Compose: Sudah terpasang dan berjalan. Port Host: Ada satu port yang tidak terpakai di mesin Anda (dalam contoh ini kita gunakan 9022). Sistem Operasi: Tutorial ini diuji pada Linux, MacOS, atau Windows dengan WSL 2. Arsitektur Sederhana Desainnya sangat sederhana. Kita akan menjalankan satu kontainer dari image kustom yang kita bangun. Port 22 (SSH) di dalam kontainer akan dipetakan ke port 9022 di komputer Anda, dan semua data di dalam direktori /home/cisco akan disimpan secara persisten.\nSecara singkat, alur koneksinya adalah: User -\u003e SSH Client -\u003e Host:9022 -\u003e Container:22.\nFile Konfigurasi: Dockerfile \u0026 Compose Kita hanya butuh dua file untuk menjalankan lab ini.\nDockerfile File ini berisi instruksi untuk membangun image kontainer kita, mulai dari instalasi paket hingga pembuatan user.\n# Gunakan base image Ubuntu versi stabil FROM ubuntu:24.04 # Install semua paket yang dibutuhkan dalam satu layer RUN apt-get update \u0026\u0026 apt-get install -y \\ sudo \\ openssh-server \\ python3 \\ python3-pip \\ git \\ nano \\ net-tools \\ iputils-ping \\ netcat-openbsd \\ \u0026\u0026 rm -rf /var/lib/apt/lists/* # Buat user 'cisco' dan direktori home-nya RUN useradd -rm -d /home/cisco -s /bin/bash -g root -G sudo -u 1000 cisco # Set password default untuk user 'cisco' (HARAP SEGERA GANTI) RUN echo 'cisco:cisco' | chpasswd # Berikan hak sudo tanpa password untuk kemudahan di lingkungan lab RUN echo 'cisco ALL=(ALL) NOPASSWD:ALL' \u003e\u003e /etc/sudoers # Buat direktori untuk SSH daemon RUN mkdir /var/run/sshd # Expose port SSH EXPOSE 22 # Perintah default untuk menjalankan SSH daemon di foreground CMD [\"/usr/sbin/sshd\", \"-D\"] Penjelasan untuk setiap barisnya cukup sederhana: kita mulai dari ubuntu:24.04, menginstal semua tools, membuat user cisco dengan password cisco, memberikannya hak sudo, dan terakhir menjalankan server SSH saat kontainer dimulai.\ndocker-compose.yml File ini kita gunakan untuk mendefinisikan dan menjalankan kontainer bahrani-labs dengan semua konfigurasinya.\nversion: \"3.9\" services: bahrani-labs: container_name: bahrani-labs build: context: . dockerfile: Dockerfile image: bahrani-labs:latest restart: unless-stopped ports: - \"9022:22\" volumes: - bahrani-home:/home/cisco environment: TZ: \"Asia/Jakarta\" healthcheck: test: [\"CMD\", \"sh\", \"-c\", \"nc -z 127.0.0.1 22 || exit 1\"] interval: 30s timeout: 5s retries: 5 start_period: 20s volumes: bahrani-home: Di sini kita mendefinisikan semua properti layanan: build untuk membangun dari Dockerfile, restart: unless-stopped untuk menyala otomatis, ports untuk mapping port, volumes untuk persistensi data, dan healthcheck untuk memastikan SSH selalu berjalan.\nInstalasi dan Penggunaan Pertama Buat sebuah direktori baru di komputer Anda (misal, bahrani-labs). Di dalam direktori tersebut, buat file Dockerfile dan docker-compose.yml dengan isi seperti di atas. Buka terminal di direktori itu dan jalankan: docker compose up -d --build Setelah proses selesai, Anda bisa langsung terhubung via SSH: ssh cisco@localhost -p 9022 Masukkan password default: cisco. Perintah Sehari-hari Berikut adalah beberapa perintah dasar untuk mengelola lab Anda:\nMenghentikan Lab: docker compose stop Memulai Lab: docker compose start Melihat Logs: docker compose logs -f Masuk ke Kontainer (tanpa SSH): docker exec -it bahrani-labs bash Catatan Keamanan (Best Practices) Meskipun ini untuk lab, praktik keamanan dasar tetap penting:\nGanti Password: Hal pertama yang harus dilakukan setelah login adalah mengganti password default dengan perintah passwd. Gunakan SSH Key: Untuk keamanan lebih, nonaktifkan login dengan password dan gunakan SSH key. Batasi Akses Port: Di lingkungan produksi, batasi akses ke port 9022 hanya dari IP tepercaya menggunakan firewall. Kustomisasi dan Pengembangan Lanjutan Menambah Port Aplikasi: Ingin menjalankan server web? Tambahkan mapping port di docker-compose.yml, misalnya ports: [\"9022:22\", \"8080:80\"]. Menambah Tools: Edit Dockerfile dan tambahkan paket lain yang Anda butuhkan di bagian apt-get install. Troubleshooting dan FAQ Tidak bisa SSH? Cek log (docker compose logs), pastikan tidak ada konflik port di 9022, dan periksa status healthcheck (docker inspect ...). Bagaimana cara update paket? Cara terbaik adalah dengan membangun ulang image: docker compose build --no-cache. Apakah bisa multi-user? Tentu. Anda bisa memodifikasi Dockerfile untuk membuat user tambahan. Kesimpulan “Bahrani Labs” adalah solusi ideal untuk siapa saja yang membutuhkan lingkungan sandbox Linux yang ringan, cepat, dan persisten. Ini sangat cocok untuk skenario eksperimen, belajar, atau bahkan sebagai target untuk otomasi build/test ringan.\nCall-to-Action Coba setup lab ini di mesin Anda, lalu kembangkan dengan menambahkan aplikasi web sederhana yang berjalan di port 8080! Ingin versi yang lebih aman untuk produksi? Nantikan artikel selanjutnya tentang hardening SSH di dalam kontainer Docker. ","wordCount":"784","inLanguage":"en","datePublished":"2025-10-05T00:00:00Z","dateModified":"2025-10-05T00:00:00Z","author":{"@type":"Person","name":"Me"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.bahrani.my.id/docs/catatan/membangun-lab-ssh-docker/"},"publisher":{"@type":"Organization","name":"My Blog","logo":{"@type":"ImageObject","url":"https://blog.bahrani.my.id/%3Clink%20/%20abs%20url%3E"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://blog.bahrani.my.id/ accesskey=h title="Home (Alt + H)"><img src=https://blog.bahrani.my.id/apple-touch-icon.png alt aria-label=logo height=35>Home</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button><ul class=lang-switch><li>|</li></ul></div></div><ul id=menu><li><a href=https://blog.bahrani.my.id/categories/ title=categories><span>categories</span></a></li><li><a href=https://blog.bahrani.my.id/tags/ title=tags><span>tags</span></a></li><li><a href=https://blog.bahrani.my.id/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://blog.bahrani.my.id/>Home</a>&nbsp;»&nbsp;<a href=https://blog.bahrani.my.id/docs/>Docs</a></div><h1 class="post-title entry-hint-parent">Membangun Lab SSH Pribadi dengan Docker: Bahrani Labs</h1><div class=post-meta><span title='2025-10-05 00:00:00 +0000 UTC'>October 5, 2025</span>&nbsp;·&nbsp;4 min&nbsp;·&nbsp;784 words&nbsp;·&nbsp;Me&nbsp;|&nbsp;<a href=https://github.com/%3cpath_to_repo%3e/content/docs/Catatan/membangun-lab-ssh-docker.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=post-content><p>Sering kali kita membutuhkan sebuah lingkungan <em>sandbox</em> atau lab virtual yang ringan untuk eksperimen, development, atau sekadar mencoba perintah-perintah sistem. Menggunakan Virtual Machine (VM) penuh terkadang terasa berlebihan. Artikel ini akan memandu Anda membangun &ldquo;Bahrani Labs&rdquo;: sebuah lab berbasis kontainer Docker yang bisa diakses via SSH, lengkap dengan persistensi data dan konfigurasi siap pakai.</p><p>Lab ini hadir dengan fitur esensial seperti <strong>akses SSH</strong>, user <code>cisco</code> dengan hak <strong>sudo</strong>, <strong>volume persisten</strong> untuk data Anda, <strong>healthcheck</strong> untuk memonitor layanan, kebijakan <strong>restart otomatis</strong>, dan zona waktu yang sudah disesuaikan untuk Indonesia (<code>Asia/Jakarta</code>).</p><h2 id=prasyarat>Prasyarat<a hidden class=anchor aria-hidden=true href=#prasyarat>#</a></h2><p>Sebelum memulai, pastikan sistem Anda telah memenuhi syarat berikut:</p><ul><li><strong>Docker & Docker Compose</strong>: Sudah terpasang dan berjalan.</li><li><strong>Port Host</strong>: Ada satu port yang tidak terpakai di mesin Anda (dalam contoh ini kita gunakan <code>9022</code>).</li><li><strong>Sistem Operasi</strong>: Tutorial ini diuji pada Linux, MacOS, atau Windows dengan WSL 2.</li></ul><h2 id=arsitektur-sederhana>Arsitektur Sederhana<a hidden class=anchor aria-hidden=true href=#arsitektur-sederhana>#</a></h2><p>Desainnya sangat sederhana. Kita akan menjalankan satu kontainer dari <em>image</em> kustom yang kita bangun. Port <code>22</code> (SSH) di dalam kontainer akan dipetakan ke port <code>9022</code> di komputer Anda, dan semua data di dalam direktori <code>/home/cisco</code> akan disimpan secara persisten.</p><p>Secara singkat, alur koneksinya adalah: <code>User -> SSH Client -> Host:9022 -> Container:22</code>.</p><h2 id=file-konfigurasi-dockerfile--compose>File Konfigurasi: Dockerfile & Compose<a hidden class=anchor aria-hidden=true href=#file-konfigurasi-dockerfile--compose>#</a></h2><p>Kita hanya butuh dua file untuk menjalankan lab ini.</p><h3 id=dockerfile>Dockerfile<a hidden class=anchor aria-hidden=true href=#dockerfile>#</a></h3><p>File ini berisi instruksi untuk membangun <em>image</em> kontainer kita, mulai dari instalasi paket hingga pembuatan user.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-Dockerfile data-lang=Dockerfile><span class=line><span class=cl><span class=c># Gunakan base image Ubuntu versi stabil</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=k>FROM</span><span class=s> ubuntu:24.04</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=c># Install semua paket yang dibutuhkan dalam satu layer</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=k>RUN</span> apt-get update <span class=o>&amp;&amp;</span> apt-get install -y <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    sudo <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    openssh-server <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    python3 <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    python3-pip <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    git <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    nano <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    net-tools <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    iputils-ping <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    netcat-openbsd <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    <span class=o>&amp;&amp;</span> rm -rf /var/lib/apt/lists/*<span class=err>
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=c># Buat user &#39;cisco&#39; dan direktori home-nya</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=k>RUN</span> useradd -rm -d /home/cisco -s /bin/bash -g root -G sudo -u <span class=m>1000</span> cisco<span class=err>
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=c># Set password default untuk user &#39;cisco&#39; (HARAP SEGERA GANTI)</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=k>RUN</span> <span class=nb>echo</span> <span class=s1>&#39;cisco:cisco&#39;</span> <span class=p>|</span> chpasswd<span class=err>
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=c># Berikan hak sudo tanpa password untuk kemudahan di lingkungan lab</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=k>RUN</span> <span class=nb>echo</span> <span class=s1>&#39;cisco ALL=(ALL) NOPASSWD:ALL&#39;</span> &gt;&gt; /etc/sudoers<span class=err>
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=c># Buat direktori untuk SSH daemon</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=k>RUN</span> mkdir /var/run/sshd<span class=err>
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=c># Expose port SSH</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=k>EXPOSE</span><span class=s> 22</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=c># Perintah default untuk menjalankan SSH daemon di foreground</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=k>CMD</span> <span class=p>[</span><span class=s2>&#34;/usr/sbin/sshd&#34;</span><span class=p>,</span> <span class=s2>&#34;-D&#34;</span><span class=p>]</span><span class=err>
</span></span></span></code></pre></div><p>Penjelasan untuk setiap barisnya cukup sederhana: kita mulai dari <code>ubuntu:24.04</code>, menginstal semua <em>tools</em>, membuat user <code>cisco</code> dengan password <code>cisco</code>, memberikannya hak <code>sudo</code>, dan terakhir menjalankan server SSH saat kontainer dimulai.</p><h3 id=docker-composeyml>docker-compose.yml<a hidden class=anchor aria-hidden=true href=#docker-composeyml>#</a></h3><p>File ini kita gunakan untuk mendefinisikan dan menjalankan kontainer <code>bahrani-labs</code> dengan semua konfigurasinya.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>version</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;3.9&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>services</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>bahrani-labs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>container_name</span><span class=p>:</span><span class=w> </span><span class=l>bahrani-labs</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>build</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>context</span><span class=p>:</span><span class=w> </span><span class=l>.</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>dockerfile</span><span class=p>:</span><span class=w> </span><span class=l>Dockerfile</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>image</span><span class=p>:</span><span class=w> </span><span class=l>bahrani-labs:latest</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>restart</span><span class=p>:</span><span class=w> </span><span class=l>unless-stopped</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>ports</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=s2>&#34;9022:22&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>volumes</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>bahrani-home:/home/cisco</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>environment</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>TZ</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;Asia/Jakarta&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>healthcheck</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>test</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=s2>&#34;CMD&#34;</span><span class=p>,</span><span class=w> </span><span class=s2>&#34;sh&#34;</span><span class=p>,</span><span class=w> </span><span class=s2>&#34;-c&#34;</span><span class=p>,</span><span class=w> </span><span class=s2>&#34;nc -z 127.0.0.1 22 || exit 1&#34;</span><span class=p>]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>interval</span><span class=p>:</span><span class=w> </span><span class=l>30s</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>timeout</span><span class=p>:</span><span class=w> </span><span class=l>5s</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>retries</span><span class=p>:</span><span class=w> </span><span class=m>5</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>start_period</span><span class=p>:</span><span class=w> </span><span class=l>20s</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>volumes</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>bahrani-home</span><span class=p>:</span><span class=w>
</span></span></span></code></pre></div><p>Di sini kita mendefinisikan semua properti layanan: <code>build</code> untuk membangun dari Dockerfile, <code>restart: unless-stopped</code> untuk menyala otomatis, <code>ports</code> untuk mapping port, <code>volumes</code> untuk persistensi data, dan <code>healthcheck</code> untuk memastikan SSH selalu berjalan.</p><h2 id=instalasi-dan-penggunaan-pertama>Instalasi dan Penggunaan Pertama<a hidden class=anchor aria-hidden=true href=#instalasi-dan-penggunaan-pertama>#</a></h2><ol><li>Buat sebuah direktori baru di komputer Anda (misal, <code>bahrani-labs</code>).</li><li>Di dalam direktori tersebut, buat file <code>Dockerfile</code> dan <code>docker-compose.yml</code> dengan isi seperti di atas.</li><li>Buka terminal di direktori itu dan jalankan:<div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>docker compose up -d --build
</span></span></code></pre></div></li><li>Setelah proses selesai, Anda bisa langsung terhubung via SSH:<div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>ssh cisco@localhost -p <span class=m>9022</span>
</span></span></code></pre></div>Masukkan password default: <code>cisco</code>.</li></ol><h2 id=perintah-sehari-hari>Perintah Sehari-hari<a hidden class=anchor aria-hidden=true href=#perintah-sehari-hari>#</a></h2><p>Berikut adalah beberapa perintah dasar untuk mengelola lab Anda:</p><ul><li><strong>Menghentikan Lab</strong>: <code>docker compose stop</code></li><li><strong>Memulai Lab</strong>: <code>docker compose start</code></li><li><strong>Melihat Logs</strong>: <code>docker compose logs -f</code></li><li><strong>Masuk ke Kontainer (tanpa SSH)</strong>: <code>docker exec -it bahrani-labs bash</code></li></ul><h2 id=catatan-keamanan-best-practices>Catatan Keamanan (Best Practices)<a hidden class=anchor aria-hidden=true href=#catatan-keamanan-best-practices>#</a></h2><p>Meskipun ini untuk lab, praktik keamanan dasar tetap penting:</p><ul><li><strong>Ganti Password</strong>: Hal <strong>pertama</strong> yang harus dilakukan setelah login adalah mengganti password default dengan perintah <code>passwd</code>.</li><li><strong>Gunakan SSH Key</strong>: Untuk keamanan lebih, nonaktifkan login dengan password dan gunakan SSH key.</li><li><strong>Batasi Akses Port</strong>: Di lingkungan produksi, batasi akses ke port <code>9022</code> hanya dari IP tepercaya menggunakan firewall.</li></ul><h2 id=kustomisasi-dan-pengembangan-lanjutan>Kustomisasi dan Pengembangan Lanjutan<a hidden class=anchor aria-hidden=true href=#kustomisasi-dan-pengembangan-lanjutan>#</a></h2><ul><li><strong>Menambah Port Aplikasi</strong>: Ingin menjalankan server web? Tambahkan mapping port di <code>docker-compose.yml</code>, misalnya <code>ports: ["9022:22", "8080:80"]</code>.</li><li><strong>Menambah Tools</strong>: Edit <code>Dockerfile</code> dan tambahkan paket lain yang Anda butuhkan di bagian <code>apt-get install</code>.</li></ul><h2 id=troubleshooting-dan-faq>Troubleshooting dan FAQ<a hidden class=anchor aria-hidden=true href=#troubleshooting-dan-faq>#</a></h2><ul><li><strong>Tidak bisa SSH?</strong> Cek log (<code>docker compose logs</code>), pastikan tidak ada konflik port di <code>9022</code>, dan periksa status healthcheck (<code>docker inspect ...</code>).</li><li><strong>Bagaimana cara update paket?</strong> Cara terbaik adalah dengan membangun ulang image: <code>docker compose build --no-cache</code>.</li><li><strong>Apakah bisa multi-user?</strong> Tentu. Anda bisa memodifikasi <code>Dockerfile</code> untuk membuat user tambahan.</li></ul><h2 id=kesimpulan>Kesimpulan<a hidden class=anchor aria-hidden=true href=#kesimpulan>#</a></h2><p>&ldquo;Bahrani Labs&rdquo; adalah solusi ideal untuk siapa saja yang membutuhkan lingkungan <em>sandbox</em> Linux yang ringan, cepat, dan persisten. Ini sangat cocok untuk skenario eksperimen, belajar, atau bahkan sebagai target untuk otomasi <em>build/test</em> ringan.</p><h2 id=call-to-action>Call-to-Action<a hidden class=anchor aria-hidden=true href=#call-to-action>#</a></h2><ul><li>Coba setup lab ini di mesin Anda, lalu kembangkan dengan menambahkan aplikasi web sederhana yang berjalan di port 8080!</li><li>Ingin versi yang lebih aman untuk produksi? Nantikan artikel selanjutnya tentang <em>hardening</em> SSH di dalam kontainer Docker.</li></ul></div><footer class=post-footer><ul class=post-tags><li><a href=https://blog.bahrani.my.id/tags/docker/>Docker</a></li><li><a href=https://blog.bahrani.my.id/tags/ssh/>Ssh</a></li><li><a href=https://blog.bahrani.my.id/tags/devops/>Devops</a></li><li><a href=https://blog.bahrani.my.id/tags/tutorial/>Tutorial</a></li><li><a href=https://blog.bahrani.my.id/tags/container/>Container</a></li></ul><nav class=paginav><a class=prev href=https://blog.bahrani.my.id/docs/catatan/proyek-visualisasi-jaringan-cdp/><span class=title>« Prev</span><br><span>Proyek Visualisasi Jaringan CDP dengan Streamlit</span>
</a><a class=next href=https://blog.bahrani.my.id/docs/sambutan/><span class=title>Next »</span><br><span>Selamat Datang Di Blog Saya</span></a></nav><ul class=share-buttons><li><a target=_blank rel="noopener noreferrer" aria-label="share Membangun Lab SSH Pribadi dengan Docker: Bahrani Labs on x" href="https://x.com/intent/tweet/?text=Membangun%20Lab%20SSH%20Pribadi%20dengan%20Docker%3a%20Bahrani%20Labs&amp;url=https%3a%2f%2fblog.bahrani.my.id%2fdocs%2fcatatan%2fmembangun-lab-ssh-docker%2f&amp;hashtags=docker%2cssh%2cdevops%2ctutorial%2ccontainer"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446C483.971.0 512 28.03 512 62.554zM269.951 190.75 182.567 75.216H56L207.216 272.95 63.9 436.783h61.366L235.9 310.383l96.667 126.4H456L298.367 228.367l134-153.151H371.033zM127.633 110h36.468l219.38 290.065H349.5z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Membangun Lab SSH Pribadi dengan Docker: Bahrani Labs on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fblog.bahrani.my.id%2fdocs%2fcatatan%2fmembangun-lab-ssh-docker%2f&amp;title=Membangun%20Lab%20SSH%20Pribadi%20dengan%20Docker%3a%20Bahrani%20Labs&amp;summary=Membangun%20Lab%20SSH%20Pribadi%20dengan%20Docker%3a%20Bahrani%20Labs&amp;source=https%3a%2f%2fblog.bahrani.my.id%2fdocs%2fcatatan%2fmembangun-lab-ssh-docker%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Membangun Lab SSH Pribadi dengan Docker: Bahrani Labs on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fblog.bahrani.my.id%2fdocs%2fcatatan%2fmembangun-lab-ssh-docker%2f&title=Membangun%20Lab%20SSH%20Pribadi%20dengan%20Docker%3a%20Bahrani%20Labs"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Membangun Lab SSH Pribadi dengan Docker: Bahrani Labs on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fblog.bahrani.my.id%2fdocs%2fcatatan%2fmembangun-lab-ssh-docker%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Membangun Lab SSH Pribadi dengan Docker: Bahrani Labs on whatsapp" href="https://api.whatsapp.com/send?text=Membangun%20Lab%20SSH%20Pribadi%20dengan%20Docker%3a%20Bahrani%20Labs%20-%20https%3a%2f%2fblog.bahrani.my.id%2fdocs%2fcatatan%2fmembangun-lab-ssh-docker%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Membangun Lab SSH Pribadi dengan Docker: Bahrani Labs on telegram" href="https://telegram.me/share/url?text=Membangun%20Lab%20SSH%20Pribadi%20dengan%20Docker%3a%20Bahrani%20Labs&amp;url=https%3a%2f%2fblog.bahrani.my.id%2fdocs%2fcatatan%2fmembangun-lab-ssh-docker%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentcolor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Membangun Lab SSH Pribadi dengan Docker: Bahrani Labs on ycombinator" href="https://news.ycombinator.com/submitlink?t=Membangun%20Lab%20SSH%20Pribadi%20dengan%20Docker%3a%20Bahrani%20Labs&u=https%3a%2f%2fblog.bahrani.my.id%2fdocs%2fcatatan%2fmembangun-lab-ssh-docker%2f"><svg width="30" height="30" viewBox="0 0 512 512" fill="currentcolor" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"><path d="M449.446.0C483.971.0 512 28.03 512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446zM183.8767 87.9921h-62.034L230.6673 292.4508V424.0079h50.6655V292.4508L390.1575 87.9921H328.1233L256 238.2489z"/></svg></a></li></ul></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://blog.bahrani.my.id/>My Blog</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>